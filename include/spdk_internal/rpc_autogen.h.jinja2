/* SPDX-License-Identifier: BSD-3-Clause */

#ifndef SPDK_RPC_AUTOGEN_H_
#define SPDK_RPC_AUTOGEN_H_

/*
 * WARNING: This file is auto-generated.
 * Do NOT edit this file manually.
 * Generated by scripts/genrpc.py.
 */

#include "spdk/stdinc.h"

#include "spdk/jsonrpc.h"

#ifdef __cplusplus
extern "C" {
#endif

/* Embedded objects section */

{% for object in schema["objects"] %}
struct {{ object.name }} {
    {%- for field in object.fields %}
	{{ types[field.type] }}{{ field.name }};
    {%- endfor %}
};

static inline void
free_{{ object.name }}(struct {{ object.name }} *req)
{
{%- for field in object.fields if field.type == "string" %}
	free(req->{{ field.name }});
{%- endfor %}
}
{% endfor %}

/* RPC objects section */

{% for method in schema["methods"] %}
{%- if method.params %}
struct rpc_{{ method.name }}_ctx {
    {%- for param in method.params %}
	{{ "struct    "+param.class+" " if "class" in param else types[param.type] }}{{ "is_private" if param.name == "private" else param.name }};
	{%- endfor %}
};

static inline void
free_rpc_{{ method.name }}(struct rpc_{{ method.name }}_ctx *req)
{
{%- for param in method.params if param.type == "string" %}
	free(req->{{ "is_private" if param.name == "private" else param.name }});
{%- endfor %}
}
{%- endif %}
{% endfor %}

#ifdef __cplusplus
}
#endif

#endif /* SPDK_RPC_AUTOGEN_H_ */
